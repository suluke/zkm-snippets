@import 'prismjs/themes/prism-okaidia';
@import './source-code-pro';

$snippet-backgrounds: #3d561e #3c389d #992a19 #67441a #284c36 #38406a #1d5363 #542973 #9f2651 #62302b;
$foreground-color: #f8f8f2;
$transition-time : 600ms;

html {
  &, body {
    margin: 0;
    padding: 0;
    height: 100%;
    max-height: 100%;
  }

  a {
    color: initial;
    text-decoration: none;
  }

  pre, code {
    font-family: 'Source Code Pro', monospace;
    font-weight: 600;
    line-height: 1.5;
  }

  .snippet {
    position: relative;
    width: 100%;
    height: 56vw;
    /* max-height: 70%; */
    overflow: hidden;
    display: block;
    color: $foreground-color;
    @for $i from 1 to length($snippet-backgrounds) + 1 {
      &:nth-child(#{$i}) {
        background-color: nth($snippet-backgrounds, $i);
      }
    }
    .snippet-front-face {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: auto 100%;
      background-repeat: no-repeat;
    }
    .snippet-back-face {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      .snippet-back-face-inner {
        position: relative;
        width: 100%;
        height: 100%;

        .snippet-source-container {
          display: inline-block;
        }
        .snippet-qr-code {
          position: absolute;
          top: 20px;
          right: 20px;
        }
      }
    }
    /** Snippet flip mechanism **/
    input.snippet-flipper {
      display: none;
      & + .snippet-inner {
        .snippet-front-face {
          transition: width $transition-time;
        }
      }
      &:checked + .snippet-inner {
        & {
          & > .snippet-front-face {
            width: 0;
          }
        }
      }
    }
    .snippet-dogear {
      display: none;
      position: absolute;
      width: 100%;
      height: 100%;
      top: 90%;
      left: 90%;
      background-color: transparent;
      > span {
        display: block;
        width: 10%;
        height: 10%;
        background-color: $foreground-color;
        color: #333;
        transform: rotate(-45deg);
      }
    }
  }
}

svg {
  & > rect {
    display: none;
  }
  #p {
    /* TODO Inverted QR codes are not officially supported by the QR code
     * SPEC */
    /* fill: $foreground-color; */
  }
}
